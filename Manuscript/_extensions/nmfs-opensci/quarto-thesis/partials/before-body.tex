%----------------------------------------------------------------------------------------
% FRONT MATTER CONFIGURATION
% Using roman page numbering style (i, ii, iii, iv...) for the pre-content pages
%----------------------------------------------------------------------------------------
\frontmatter

% Default to the plain heading style until the thesis style is called for the body content
\pagestyle{plain}

%----------------------------------------------------------------------------------------
% TITLE PAGE
%----------------------------------------------------------------------------------------
\begin{titlepage}

\noindent
% Left logo container
\begin{minipage}[t]{0.4\textwidth}
  \begin{flushleft} \large
    % Include the left logo if provided
    $if(thesis.logoED)$
      $if(thesis.logoED-height)$
        \includegraphics[height=$thesis.logoED-height$]{$thesis.logoED$} % Left logo
      $else$
        \includegraphics{$thesis.logoED$}
      $endif$
    $endif$
  \end{flushleft}
\end{minipage}
\hfill
% Right logo container
\begin{minipage}[t]{0.4\textwidth}
  \begin{flushright} \large
    % Include the right logo if provided
    $if(thesis.logoUN)$
      $if(thesis.logoUN-height)$
        \includegraphics[height=$thesis.logoUN-height$]{$thesis.logoUN$} % Right logo
      $else$
        \includegraphics{$thesis.logoUN$}
      $endif$
    $endif$
  \end{flushright}
\end{minipage}

\begin{center}

\vspace*{.06\textheight}

% University name
{\scshape\LARGE \univname\par}\vspace{1cm}

% Thesis type
\textsc{\Large Doctoral Thesis}\\[0.5cm]

% Thesis title with horizontal rules
\HRule \\[0.4cm]
{\huge \bfseries \ttitle\par}\vspace{0.4cm}
\HRule \\[1.5cm]

% Author and Supervisor details
\begin{minipage}[t]{0.4\textwidth}
  \begin{flushleft} \large
    \emph{Author:}\\
    $if(author.url)$
      \href{$author.url$}{\authorname} % Linked author name if URL provided
    $else$
      \authorname
    $endif$
  \end{flushleft}
\end{minipage}
\begin{minipage}[t]{0.4\textwidth}
  \begin{flushright} \large
    \emph{Supervisors:} \\
    $if(thesis.supervisor.url)$%
      \href{$thesis.supervisor.url$}{\supname} % Linked supervisor name if URL provided
    $else$%
      \supname
    $endif$
  \end{flushright}
\end{minipage}\\[2cm]

% Degree requirement statement
\large \textit{A thesis submitted in fulfillment of the requirements\\
for the degree of \degreename}\\[0.3cm]
\textit{as part of the}\\[0.4cm]
\groupname\\
\textit{of the}\\[0.4cm]
\deptname\\[2cm]

\vfill

% Date
$if(book.date)$
{\large $book.date$}\\[4cm]
$endif$

\vfill
\end{center}
\end{titlepage}

%----------------------------------------------------------------------------------------
% DECLARATION PAGE
%----------------------------------------------------------------------------------------
$if(thesis.declaration)$
  \begin{declaration}
    \addchaptertocentry{\authorshipname} % Add the declaration to the table of contents
    $if(thesis.declaration.text)$
      $thesis.declaration.text$
    $else$
      \input{"$thesis.declaration$"}
    $endif$
  \end{declaration}
  \cleardoublepage
$endif$

%----------------------------------------------------------------------------------------
% QUOTATION PAGE (IF ANY)
%----------------------------------------------------------------------------------------
$if(thesis.quotation)$
  \vspace*{0.2\textheight}
  $if(thesis.quotation.text)$
    \noindent``{\itshape $thesis.quotation.text$}''\bigbreak
    \hfill $thesis.quotation.attribution$
  $else$
    \input{``$thesis.quotation$''}
  $endif$
$endif$

%----------------------------------------------------------------------------------------
% ABSTRACT PAGE
%----------------------------------------------------------------------------------------
$if(abstract)$
  \begin{abstract}
    \addchaptertocentry{\abstractname} % Add the abstract to the table of contents
    $abstract$
  \end{abstract}
$endif$

%----------------------------------------------------------------------------------------
% ACKNOWLEDGEMENTS
%----------------------------------------------------------------------------------------
$if(thesis.acknowledgements)$
  \begin{acknowledgements}
    \addchaptertocentry{\acknowledgementname} % Add the acknowledgements to the table of contents
    $if(thesis.acknowledgements.text)$
      $thesis.acknowledgements.text$
    $else$
      \input{"$thesis.acknowledgements$"}
    $endif$
  \end{acknowledgements}
$endif$

%----------------------------------------------------------------------------------------
% LIST OF CONTENTS/FIGURES/TABLES
%----------------------------------------------------------------------------------------
\setlength{\cftsecindent}{0.5em}        % Less indentation for sections
\setlength{\cftsubsecindent}{1em}       % Less indentation for subsections
\setlength{\cftsubsubsecindent}{1.5em}  % Less indentation for subsubsections
\renewcommand{\cftfigpresnum}{Figure~}
\renewcommand{\cfttabpresnum}{Table~}
\renewcommand{\cftfigaftersnum}{:~}  % Add ": " after the figure number
\renewcommand{\cfttabaftersnum}{:~}  % Add ": " after the table number  % Prefix for tables
\setlength{\cftbeforefigskip}{0.5em}  % Space between figure entries
\setlength{\cftbeforetabskip}{0.5em} % Space between table entries
\setlength{\cftfignumwidth}{5em} % Adjust width for figure numbers
\setlength{\cfttabnumwidth}{5em} % Adjust width for table numbers
\setlength{\cftfigindent}{0em}    % Indentation for figure captions
\setlength{\cfttabindent}{0em}    % Indentation for table captions

\begingroup
\hypersetup{linkcolor=$if(toclinkcolor)$$toclinkcolor$$else$black$endif$}

\tableofcontents  
\clearpage  % Start a new page after List of Figures% Main table of contents
\listoffigures 
\clearpage  % Start a new page after List of Figures% List of figures
\listoftables       % List of tables

\endgroup

%----------------------------------------------------------------------------------------
% ABBREVIATIONS (IF ANY)
%----------------------------------------------------------------------------------------
$if(thesis.abbreviations)$
  \input{"$thesis.abbreviations$"}
$endif$

%----------------------------------------------------------------------------------------
% PHYSICAL CONSTANTS/OTHER DEFINITIONS (IF ANY)
%----------------------------------------------------------------------------------------
$if(thesis.constants)$
  \input{"$thesis.constants$"}
$endif$

%----------------------------------------------------------------------------------------
% SYMBOLS (IF ANY)
%----------------------------------------------------------------------------------------
$if(thesis.symbols)$
  \input{"$thesis.symbols$"}
$endif$

%----------------------------------------------------------------------------------------
% DEDICATION (IF ANY)
%----------------------------------------------------------------------------------------
$if(thesis.dedication)$
  \dedicatory{\input{"$thesis.dedication$"}} 
$endif$

%----------------------------------------------------------------------------------------
% MAIN CONTENT
%----------------------------------------------------------------------------------------
\mainmatter % Begin numeric (1,2,3...) page numbering

% Return the page headers back to the "thesis" style
\pagestyle{thesis}
